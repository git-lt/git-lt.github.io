<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="数组在工作中使用频繁，但我们大多数情况下只使用到了部分特性，久而久之，对于数组其它的相关特性就变得模糊起来，不免有错漏不全的理解，这里花了一点时间，对最常用的数组做一些总结。">
<meta property="og:type" content="article">
<meta property="og:title" content="数组的全面总结">
<meta property="og:url" content="http://toggle.coding.io/2016/09/23/JS-Array/index.html">
<meta property="og:site_name" content="Aitter's Blog">
<meta property="og:description" content="数组在工作中使用频繁，但我们大多数情况下只使用到了部分特性，久而久之，对于数组其它的相关特性就变得模糊起来，不免有错漏不全的理解，这里花了一点时间，对最常用的数组做一些总结。">
<meta property="og:updated_time" content="2016-09-23T11:34:38.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数组的全面总结">
<meta name="twitter:description" content="数组在工作中使用频繁，但我们大多数情况下只使用到了部分特性，久而久之，对于数组其它的相关特性就变得模糊起来，不免有错漏不全的理解，这里花了一点时间，对最常用的数组做一些总结。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://toggle.coding.io/2016/09/23/JS-Array/"/>





  <title> 数组的全面总结 | Aitter's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?2b4e0202baeda5f901b13a86cf9d65cf";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Aitter's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">I can’t change the world, only change myself!</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://toggle.coding.io/2016/09/23/JS-Array/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Aitter">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar100.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Aitter's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Aitter's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                数组的全面总结
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-23T17:26:59+08:00">
                2016-09-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/09/23/JS-Array/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/23/JS-Array/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>数组在工作中使用频繁，但我们大多数情况下只使用到了部分特性，久而久之，对于数组其它的相关特性就变得模糊起来，不免有错漏不全的理解，这里花了一点时间，对最常用的数组做一些总结。<br><a id="more"></a></p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>数组的标准定义：一个存储元素的线性集合，元素可以通过索引来任意存取，索引通常是数字，用来计算元素之间存储位置的偏移量。<br>数组（array）是按次序排列的一组值。每个值的位置都有编号（从0开始），整个数组用方括号表示。</p>
<h2 id="内置方法"><a href="#内置方法" class="headerlink" title="内置方法"></a>内置方法</h2><ul>
<li>concat / slice / splice</li>
<li>sort / reverse</li>
<li>push / unshift</li>
<li>pop / shift</li>
<li>toString</li>
<li>join</li>
</ul>
<h3 id="从已有的数组创建新的数组"><a href="#从已有的数组创建新的数组" class="headerlink" title="从已有的数组创建新的数组"></a>从已有的数组创建新的数组</h3><p>concat / slice / splice</p>
<p><code>concat</code> 合并两个或多个数组，返回合并结果</p>
<p><strong>不改变原有数组，返回一个新的合并数组</strong></p>
<p><code>arrayObject.concat(arrayX,arrayX,......,arrayX)</code>,<br><code>arrayX</code>可以是值/数组对象</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>].concat(<span class="number">3</span>,<span class="number">4</span>); <span class="comment">//[1, 2, 3, 4]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>].concat([<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>]); <span class="comment">//[1, 2, 3, 4, 5, 6]</span></div><div class="line"></div><div class="line"><span class="comment">//添加一个元素到头部</span></div><div class="line">[<span class="number">1</span>].concat([<span class="number">2</span>,<span class="number">3</span>]);<span class="comment">//[1, 2, 3]</span></div><div class="line"><span class="comment">//添加一个元素到尾部</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>].concat(<span class="number">3</span>);<span class="comment">//[1, 2, 3]</span></div></pre></td></tr></table></figure>
<p><code>slice</code> 从现有的数组返回选定的元素组成的数组 <strong>不改变原有数组</strong></p>
<p><code>arrayObject.slice(start,end)</code> start 和 end 定义了选取范围，正数从0开始，负数从-1开始，始终为左闭右开，也就是左边包含右边不包含</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].slice(<span class="number">0</span>,<span class="number">1</span>);<span class="comment">//[1]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].slice(<span class="number">1</span>,<span class="number">3</span>);<span class="comment">//[2,3]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].slice(<span class="number">-1</span>);<span class="comment">//[4]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].slice(<span class="number">-2</span>);<span class="comment">//[3,4]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].slice(<span class="number">-2</span>,<span class="number">-1</span>);<span class="comment">//[3]</span></div></pre></td></tr></table></figure>
<p><code>splice</code> 方法向/从数组中添加/删除项目，然后返回被删除的项目组成的新数组  <strong>会改变原有数组</strong></p>
<p><code>arrayObject.splice(index,howmany,items,...)</code><br>index 起始位置，可以是负数<br>howmany 要删除的个数，0为不删除<br>items 要添加的元素</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">var</span> arr2 = arr1.slice();</div><div class="line"><span class="keyword">var</span> arr3 = arr1.slice();</div><div class="line"></div><div class="line"><span class="comment">// 删除元素</span></div><div class="line"><span class="keyword">var</span> removed = arr1.splice(<span class="number">1</span>,<span class="number">1</span>);</div><div class="line"><span class="built_in">console</span>.log(removed);<span class="comment">//[2]</span></div><div class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">//[1, 3, 4]</span></div><div class="line"><span class="comment">//删除了索引为1的元素2，并返回这个元素，原数组发生改变</span></div><div class="line"></div><div class="line"><span class="comment">// 替换元素</span></div><div class="line"><span class="keyword">var</span> replace = arr2.splice(<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>);</div><div class="line"><span class="built_in">console</span>.log(replace);<span class="comment">//[3]</span></div><div class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//[1, 2, 5, 4]</span></div><div class="line"><span class="comment">// 在索引为2的位置，删除了1个元素3，并在此插入新的元素5，返回了删除的元素，原数组发生变化</span></div><div class="line"></div><div class="line"><span class="comment">// 删除并插入元素</span></div><div class="line"><span class="keyword">var</span> insert = arr3.splice(<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>);</div><div class="line"><span class="built_in">console</span>.log(insert); <span class="comment">//[]</span></div><div class="line"><span class="built_in">console</span>.log(arr3); <span class="comment">//[1, 2, 3, 5, 6, 7, 4]</span></div><div class="line"><span class="comment">// 在索引为3的位置，删除0个元素，插入了5、6、7这3个元素到索引为3的前面</span></div></pre></td></tr></table></figure>
<h3 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h3><p>sort / reverse</p>
<p><code>sort</code> 用于对数组的元素进行排序<br>将对原数组操作，会改变原数组</p>
<p><code>arrayObject.sort(sortFn)</code><br>sortFn 为函数，用于提供排序比较规则，返回值是正值，则第一个参数比第二个大，负值，则第1个比第2个小，零，则两个数相等<br>如果sortFn为空，则按照字符编码的顺序进行排序</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">51</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>].sort() <span class="comment">//[1, 12, 2, 3, 4, 51]</span></div><div class="line">[<span class="number">1</span>,<span class="number">51</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>].sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a-b&#125;) <span class="comment">//[1, 2, 3, 4, 12, 51]</span></div><div class="line">[<span class="number">1</span>,<span class="number">51</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>].sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b-a&#125;) <span class="comment">//[51, 12, 4, 3, 2, 1]</span></div><div class="line"><span class="comment">//或者</span></div><div class="line">[<span class="number">1</span>,<span class="number">51</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>].sort(<span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'return a-b'</span>))</div><div class="line">[<span class="number">1</span>,<span class="number">51</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">3</span>].sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a-b)</div></pre></td></tr></table></figure>
<p><code>reverse</code> 用于颠倒数组中元素的顺序 <strong>会改变原有的数组</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].reverse() <span class="comment">//[5, 4, 3, 1]</span></div><div class="line"></div><div class="line"><span class="comment">//反转字符串</span></div><div class="line"><span class="string">'54321'</span>.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>); <span class="comment">//'12345'</span></div><div class="line"><span class="comment">//反转数字</span></div><div class="line"><span class="built_in">Number</span>(<span class="built_in">Number</span>(<span class="number">12345</span>).toString().split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)) <span class="comment">//54321</span></div></pre></td></tr></table></figure>
<h3 id="为数组增减元素"><a href="#为数组增减元素" class="headerlink" title="为数组增减元素"></a>为数组增减元素</h3><ul>
<li>push 添加 元素至数组尾部，返回新的数组长度</li>
<li>unshift 添加 元素至数组开头，返回新的数组长度</li>
<li>pop 删除 尾部元素，返回删除的元素</li>
<li>shift 删除 头部元素，返回删除的元素</li>
</ul>
<p><strong>都是直接对原数组操作，会改变原有数组</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">var</span> arr1 = arr.slice();</div><div class="line"><span class="keyword">var</span> arr2 = arr.slice();</div><div class="line"><span class="keyword">var</span> arr3 = arr.slice();</div><div class="line"><span class="keyword">var</span> arr4 = arr.slice();</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(arr1.push(<span class="number">5</span>), arr1); <span class="comment">//5 [1, 2, 3, 4, 5]</span></div><div class="line"><span class="built_in">console</span>.log(arr2.unshift(<span class="number">0</span>), arr2); <span class="comment">//5 [0, 1, 2, 3, 4]</span></div><div class="line"><span class="built_in">console</span>.log(arr3.pop(), arr3); <span class="comment">//4 [1, 2, 3]</span></div><div class="line"><span class="built_in">console</span>.log(arr4.shift(), arr4); <span class="comment">//1 [2, 3, 4]</span></div></pre></td></tr></table></figure>
<h3 id="数组转字符串"><a href="#数组转字符串" class="headerlink" title="数组转字符串"></a>数组转字符串</h3><p>toString / join</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].toString() <span class="comment">//"1,2,3,4"</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]+<span class="string">''</span> <span class="comment">//"1,2,3,4"</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].join(<span class="string">'-'</span>);<span class="comment">//"1-2-3-4"</span></div></pre></td></tr></table></figure>
<h2 id="ES5新增"><a href="#ES5新增" class="headerlink" title="ES5新增"></a>ES5新增</h2><ul>
<li>Array.isArray()</li>
<li>[].indexOf() / [].lastIndexOf()</li>
<li>[].forEach / [].map()</li>
<li>[].every() / [].some()</li>
<li>[].filter()</li>
<li>[].reduce() / [].reduceRight()</li>
</ul>
<h3 id="数组类型判断"><a href="#数组类型判断" class="headerlink" title="数组类型判断"></a>数组类型判断</h3><p>自定义一个方法来判断是否为数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">isArray([]); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>ES5新增 <code>Array.isArray()</code> 来判断是否为数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.isArray([]);<span class="comment">//true</span></div><div class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;);<span class="comment">//false</span></div><div class="line"></div><div class="line"><span class="comment">// IE9以下兼容写法</span></div><div class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">Array</span>.isArray !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.isArray = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="查找元素"><a href="#查找元素" class="headerlink" title="查找元素"></a>查找元素</h3><p>indexOf(el, startIndex) / lastIndexOf(el, lastIndex)</p>
<p>没有查找到元素返回-1，查找到元素，返回查找到的第一个的索引值，<code>lastIndexOf</code> 为从后面查起</p>
<ul>
<li>startIndex 表示从哪个索引开始找，默认为第1个索引</li>
<li>lastIndex 表示从倒数第几个索引开始找，默认为最后一个索引</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>].indexOf(<span class="number">2</span>); <span class="comment">//1</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>].indexOf(<span class="number">2</span>,<span class="number">2</span>); <span class="comment">//3</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>].lastIndexOf(<span class="number">2</span>); <span class="comment">//3</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>].indexOf(<span class="number">5</span>); <span class="comment">//-1</span></div><div class="line">[<span class="number">1</span>,<span class="string">'1'</span>].indexOf(<span class="string">'1'</span>);<span class="comment">//1</span></div><div class="line"><span class="comment">// 下面的查找返回了-1，=== 运算符的缺陷，后面ES6的includes方法会弥补这一缺陷</span></div><div class="line">[<span class="number">1</span>,<span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>);<span class="comment">//-1</span></div><div class="line">[<span class="number">1</span>,&#123;&#125;].indexOf(&#123;&#125;);<span class="comment">//-1</span></div><div class="line"></div><div class="line"><span class="comment">// IE9以下兼容写法</span></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.indexOf !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.indexOf = <span class="function"><span class="keyword">function</span>(<span class="params">searchEl, startIndex</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> index = <span class="number">-1</span>;</div><div class="line">    startIndex = startIndex * <span class="number">1</span> || <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>, len = <span class="keyword">this</span>.length; k &lt; len; k++) &#123;</div><div class="line">      <span class="keyword">if</span> (k &gt;= startIndex &amp;&amp; <span class="keyword">this</span>[k] === searchEl) &#123;</div><div class="line">          index = k;</div><div class="line">          <span class="keyword">break</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> index;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.lastIndexOf !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.lastIndexOf = <span class="function"><span class="keyword">function</span>(<span class="params">searchEl, lastIndex</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> index = <span class="number">-1</span>, len = <span class="keyword">this</span>.length;</div><div class="line">    lastIndex = lastIndex * <span class="number">1</span> || len;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (len--) &#123;</div><div class="line">      <span class="keyword">if</span> (len &lt;= lastIndex &amp;&amp; <span class="keyword">this</span>[len] === searchEl) &#123;</div><div class="line">           index = len;</div><div class="line">           <span class="keyword">break</span>;</div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> index;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数据遍历"><a href="#数据遍历" class="headerlink" title="数据遍历"></a>数据遍历</h3><p>[].forEach() / [].map()</p>
<p><code>[].forEach(function(value, index, arr){}, context)</code><br>循环遍历数组中的每一个元素，处理函数中的参数依次为：当前元素、当前元素索引、原数组<br>forEach的第二个参数，可以指定处理函数中this的指向</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v,i,a</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(v,i,a);</div><div class="line">  v+=<span class="number">1</span>;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">console</span>.log(arr); <span class="comment">//[1,2,3]</span></div><div class="line"><span class="comment">// 1 0 [1, 2, 3]</span></div><div class="line"><span class="comment">// 2 1 [1, 2, 3]</span></div><div class="line"><span class="comment">// 3 2 [1, 2, 3]</span></div><div class="line"></div><div class="line"> <span class="comment">// 等同于</span></div><div class="line"> <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length; i++)&#123;</div><div class="line">   <span class="built_in">console</span>.log(arr[i], i, arr);</div><div class="line"> &#125;</div><div class="line"></div><div class="line"><span class="comment">// IE9以下的兼容性写法</span></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.forEach !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.forEach = <span class="function"><span class="keyword">function</span>(<span class="params">fn, context</span>)</span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>, len=<span class="keyword">this</span>.length; i&lt;len; i++)&#123;</div><div class="line">      <span class="keyword">if</span>(<span class="keyword">typeof</span> fn === <span class="string">'function'</span> &amp;&amp; <span class="built_in">Object</span>.prototype.hasOwnProperty.call(<span class="keyword">this</span>, i))&#123;</div><div class="line">        fn.call(context, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>jQuery中的 <code>$.each(function(index, values, arr){})</code>  回调中的参数第1个是索引，第2个是元素，<code>$.map()</code> 亦是如此</p>
<p><code>map(function(value, index, arr){})</code> 与forEach类似，返回一个新的数组，不改变原有数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">var</span> res = arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> v+<span class="number">1</span>;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(arr); <span class="comment">//[2, 3, 4]</span></div><div class="line"><span class="built_in">console</span>.log(res); <span class="comment">//[1, 2, 3]</span></div><div class="line"></div><div class="line"><span class="comment">// IE9以下的兼容性写法</span></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.map !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.map = <span class="function"><span class="keyword">function</span>(<span class="params">fn, context</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> res = [];</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> fn === <span class="string">'function'</span>)&#123;</div><div class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>, len=<span class="keyword">this</span>.length; i&lt;len; i++)&#123;</div><div class="line">        res.push(fn.call(context, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>));</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>map的回调处理函数一定要有返回值，如果没用，则会返回<code>undefined</code></p>
<h3 id="检测是否包含某元素"><a href="#检测是否包含某元素" class="headerlink" title="检测是否包含某元素"></a>检测是否包含某元素</h3><p><code>[].every(function(value, index, arr){}, context) / [].some(function(value, index, arr){}, context)</code></p>
<ul>
<li>数组元素的逻辑判定，回调函数返回true/false</li>
<li>some是所判定的元素只要数组中有一个符合条件就返回true</li>
<li>ervery是数组中必须所有元素都符合条件就返回true，否则返回false</li>
<li>在空数组上调用every返回true，some返回false</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].some(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">3</span>)) <span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].every(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">3</span>)) <span class="comment">//false</span></div><div class="line"><span class="built_in">console</span>.log([].every(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">3</span>)) <span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log([].some(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">3</span>)) <span class="comment">//false</span></div><div class="line"></div><div class="line"><span class="comment">// IE9以下兼容写法</span></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.some !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.some = <span class="function"><span class="keyword">function</span>(<span class="params">fn, context</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> passed = <span class="literal">false</span>;</div><div class="line">  	<span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</div><div class="line">     	  <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>, length = <span class="keyword">this</span>.length; k &lt; length; k++) &#123;</div><div class="line">  		  <span class="keyword">if</span> (passed === <span class="literal">true</span>) <span class="keyword">break</span>;</div><div class="line">  		  passed = !!fn.call(context, <span class="keyword">this</span>[k], k, <span class="keyword">this</span>);</div><div class="line">  	  &#125;</div><div class="line">      &#125;</div><div class="line">  	<span class="keyword">return</span> passed;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Array</span>.prototype.every != <span class="string">"function"</span>) &#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.every = <span class="function"><span class="keyword">function</span> (<span class="params">fn, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> passed = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</div><div class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>, length = <span class="keyword">this</span>.length; k &lt; length; k++) &#123;</div><div class="line">          <span class="keyword">if</span> (passed === <span class="literal">false</span>) <span class="keyword">break</span>;</div><div class="line">          passed = !!fn.call(context, <span class="keyword">this</span>[k], k, <span class="keyword">this</span>);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> passed;</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数组过滤"><a href="#数组过滤" class="headerlink" title="数组过滤"></a>数组过滤</h3><p><code>[].filter(fn, context)</code></p>
<ul>
<li>当遍历元素时，fn返回true，则返回这个元素，否则不返回，fn中返回值只要弱等于true或false即可，使用==比较</li>
<li>filter返回一个新的结果数组，不改变原有数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].filter(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">2</span>); <span class="comment">//[3, 4]</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="literal">null</span>,<span class="string">''</span>].filter(<span class="function"><span class="params">v</span>=&gt;</span>v); <span class="comment">//[1, 2]</span></div><div class="line"></div><div class="line"><span class="comment">// IE9以下兼容写法</span></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.prototype.some !== <span class="string">'function'</span>)&#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.some = <span class="function"><span class="keyword">function</span>(<span class="params">fn, context</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> arr = [];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</div><div class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>, length = <span class="keyword">this</span>.length; k &lt; length; k++) &#123;</div><div class="line">          fn.call(context, <span class="keyword">this</span>[k], k, <span class="keyword">this</span>) &amp;&amp; arr.push(<span class="keyword">this</span>[k]);</div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数组聚合"><a href="#数组聚合" class="headerlink" title="数组聚合"></a>数组聚合</h3><p><code>[].reduce(fn, initialValue) / [].reduceRight(fn, initialValue)</code></p>
<ul>
<li>将数组元素聚合（合并）为一个元素</li>
<li>fn 的参数依次为 (之前值、当前值、索引值、数组本身)，</li>
<li>initialValue 表示最初的值，如果不存在，初始值为数组第1个元素</li>
</ul>
<p><code>reduceRight</code> 与 <code>reduce</code> 用法一致，区别是从最后一个元素开始迭代</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> res = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, curr, index, arr</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(prev, curr, index, arr);</div><div class="line">  <span class="keyword">return</span> prev+=curr;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">console</span>.log(res);<span class="comment">//10</span></div><div class="line"><span class="comment">// 没有initialValue，则初始值为1</span></div><div class="line"><span class="comment">// 1 2 1 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 3 3 2 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 6 4 3 [1, 2, 3, 4]</span></div><div class="line"></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, curr, index, arr</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(prev, curr, index, arr);</div><div class="line">  <span class="keyword">return</span> prev+=curr;</div><div class="line">&#125;, <span class="number">10</span>)</div><div class="line"><span class="comment">// 如果initialValue有值，则初始值为initialValue的值</span></div><div class="line"><span class="comment">// 10 1 0 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 11 2 1 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 13 3 2 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 16 4 3 [1, 2, 3, 4]</span></div><div class="line"></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">prev, curr, index, arr</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(prev, curr, index, arr);</div><div class="line">  <span class="keyword">return</span> prev+=curr;</div><div class="line">&#125;)</div><div class="line"><span class="comment">// 从最后一个元素开始迭代，初始值为4</span></div><div class="line"><span class="comment">// 4 3 2 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 7 2 1 [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// 9 1 0 [1, 2, 3, 4]</span></div><div class="line"></div><div class="line"><span class="comment">// 二维数组扁平化</span></div><div class="line">[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]].reduce(<span class="function">(<span class="params">prev,curr</span>)=&gt;</span>prev.concat(curr)) <span class="comment">//[1, 2, 3, 4]</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// IE9以下兼容写法</span></div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Array</span>.prototype.reduce != <span class="string">"function"</span>) &#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.reduce = <span class="function"><span class="keyword">function</span> (<span class="params">fn, initialValue </span>) </span>&#123;</div><div class="line">     <span class="keyword">var</span> prev = initialValue, k = <span class="number">0</span>, len = <span class="keyword">this</span>.length;</div><div class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> initialValue === <span class="string">"undefined"</span>) &#123;</div><div class="line">        prev = <span class="keyword">this</span>[<span class="number">0</span>];</div><div class="line">        k = <span class="number">1</span>;</div><div class="line">     &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</div><div class="line">      <span class="keyword">for</span> (k; k &lt; len; k++) &#123;</div><div class="line">         <span class="keyword">this</span>.hasOwnProperty(k) &amp;&amp; (prev = callback(prev, <span class="keyword">this</span>[k], k, <span class="keyword">this</span>));</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> previous;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Array</span>.prototype.reduceRight != <span class="string">"function"</span>) &#123;</div><div class="line">  <span class="built_in">Array</span>.prototype.reduceRight = <span class="function"><span class="keyword">function</span> (<span class="params">fn, initialValue </span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length, k = len - <span class="number">1</span>, prev = initialValue;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> initialValue === <span class="string">"undefined"</span>) &#123;</div><div class="line">        prev = <span class="keyword">this</span>[len - <span class="number">1</span>];</div><div class="line">        k--;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</div><div class="line">       <span class="keyword">for</span> (k; k &gt; <span class="number">-1</span>; k--) &#123;          </div><div class="line">          <span class="keyword">this</span>.hasOwnProperty(k) &amp;&amp; (prev = callback(prev, <span class="keyword">this</span>[k], k, <span class="keyword">this</span>));</div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> previous;</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ES6新增"><a href="#ES6新增" class="headerlink" title="ES6新增"></a>ES6新增</h2><ul>
<li>Array.from(arrLike) //类数组转数组</li>
<li>Array.of(…args) //将一组值转成数组</li>
<li>[].copyWithin(target, start, end) //复制数组成员到指定位置，会覆盖原有成员</li>
<li>[].find(fn) // 查找元素，返回元素本身</li>
<li>[].findIndex(fn) // 查找元素返回元素索引，没有则返回-1</li>
<li>[].includes() // 检测数组是否包含某元素，返回true/false</li>
<li>[].fill(value, start, end) //填充数组</li>
<li>[].keys() // 返回数组的key组成的数组</li>
<li>[].values() // 返回数组的值组成的数组</li>
<li>[].entries() // 返回数组索引和值组成的数组</li>
</ul>
<h3 id="数组转换"><a href="#数组转换" class="headerlink" title="数组转换"></a>数组转换</h3><p><code>Array.from(arrLike) / Array.of(...args)</code></p>
<p><code>Array.from</code> 可以将类数组（有length属性的Object/可遍历（iterable）的对象/Set对象/Map对象）转换为数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> arrayLike = &#123;<span class="string">'0'</span>:<span class="string">'a'</span>, <span class="string">'1'</span>:<span class="string">'b'</span>, <span class="string">'2'</span>:<span class="string">'c'</span>, <span class="attr">length</span>:<span class="number">3</span>&#125;;</div><div class="line"><span class="comment">// 以前的写法</span></div><div class="line">[].slice.call(arrayLike)<span class="comment">//["a", "b", "c"]</span></div><div class="line"><span class="comment">// 使用Array.from</span></div><div class="line"><span class="keyword">let</span> arr1 = <span class="built_in">Array</span>.from(arrayLike); <span class="comment">//["a", "b", "c"]</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</div><div class="line"><span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.from(set);<span class="comment">//[1,3,4,5]</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>,<span class="string">'a'</span>], [<span class="number">2</span>,<span class="string">'b'</span>], [<span class="number">3</span>,<span class="string">'c'</span>]]);</div><div class="line"><span class="keyword">let</span> arr3 = <span class="built_in">Array</span>.from(map);<span class="comment">//[[1,'a'],[2,'b'],[3,'c']]</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">let</span> iter = arr[<span class="built_in">Symbol</span>.iterator]();</div><div class="line">iter.next();<span class="comment">//&#123;value: 1, done: false&#125;</span></div><div class="line"><span class="keyword">let</span> arr4 = <span class="built_in">Array</span>.from(iter); <span class="comment">//[2,3,4]</span></div></pre></td></tr></table></figure>
<p><code>Array.of</code> 用于将一组值转换为数组</p>
<p>使用 <code>Array</code> 的构造函数初始化数组时，如果参数是1个，那么会创建这个参数长度的数组，数组的每一项为 <code>undefined</code>，如果参数是多个，那么会创建这多个参数组成的数组，所以参数的个数会导致结果的不一致，<code>Array.of</code> 正是弥补这一点的扩展</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>(<span class="number">2</span>);<span class="comment">//[,]</span></div><div class="line"><span class="built_in">Array</span>(<span class="number">2</span>,<span class="number">3</span>);<span class="comment">//[2,3]</span></div><div class="line"></div><div class="line"><span class="built_in">Array</span>.of(<span class="number">2</span>);<span class="comment">//[2]</span></div><div class="line"><span class="built_in">Array</span>.of(<span class="number">2</span>,<span class="number">3</span>);<span class="comment">//[2,3]</span></div></pre></td></tr></table></figure>
<h3 id="数组元素复制、填充与查找"><a href="#数组元素复制、填充与查找" class="headerlink" title="数组元素复制、填充与查找"></a>数组元素复制、填充与查找</h3><ul>
<li>[].copyWithin(target, start, end) 复制数组成员到指定位置，会覆盖原有成员</li>
<li>[].fill(value, start, end) 填充数组</li>
<li>[].find(fn)  查找元素，返回元素本身</li>
<li>[].findIndex(fn)  查找元素返回元素索引，没有则返回-1</li>
<li>[].includes(value, startIndex)  检测数组是否包含某元素，返回true/false</li>
</ul>
<p><code>Array.prototype.copyWithin(target, start = 0, end = this.length)</code></p>
<p><code>copyWithin</code> 的三个参数：</p>
<ul>
<li>target（必需）：从该位置开始替换数据。</li>
<li>start（可选）：从该位置开始读取数据，默认为0。如果为负值，表示倒数。</li>
<li>end（可选）：到该位置前停止读取数据，默认等于数组长度。如果为负值，表示倒数。</li>
</ul>
<p><code>fill</code> 的三个参数</p>
<ul>
<li>value：要填充的元素</li>
<li>start: 从哪里开始填充</li>
<li>end: 从哪里填充结束</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 将3号位复制到0号位</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>)</div><div class="line"><span class="comment">// [4, 2, 3, 4, 5]</span></div><div class="line"></div><div class="line"><span class="built_in">Array</span>(<span class="number">5</span>).fill(<span class="number">0</span>); <span class="comment">//[0, 0, 0, 0, 0]</span></div></pre></td></tr></table></figure>
<ul>
<li>find、findIndex 都是用于查找符合条件的元素，都可发现NaN，弥补了indexOf的不足</li>
<li>includes 用于检测是否含有某个元素，返回 true/false</li>
</ul>
<p>区别：</p>
<ul>
<li>includes 返回true或false，参数是要查找的元素，第2个参数会查找的起始索引，可以是负数</li>
<li>find 返回的查找到的元素，没有则返回undefined</li>
<li>findIndex 返回的是元素的索引值，没有则返回-1</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].find(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">3</span>); <span class="comment">//4</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].find(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">4</span>); <span class="comment">//undefined</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].findIndex(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">2</span>); <span class="comment">//2</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].findIndex(<span class="function"><span class="params">v</span>=&gt;</span>v&gt;<span class="number">4</span>); <span class="comment">//-1</span></div><div class="line"></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>); <span class="comment">//-1 查找不到</span></div><div class="line"></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>].find(<span class="function"><span class="params">v</span>=&gt;</span><span class="built_in">Object</span>.is(v,<span class="literal">NaN</span>)); <span class="comment">//NaN</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>].findIndex(<span class="function"><span class="params">v</span>=&gt;</span><span class="built_in">Object</span>.is(v,<span class="literal">NaN</span>)); <span class="comment">//2</span></div><div class="line"></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>].includes(<span class="literal">NaN</span>); <span class="comment">//true</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].includes(<span class="number">2</span>,<span class="number">2</span>); <span class="comment">//false</span></div></pre></td></tr></table></figure>
<h3 id="获取数组中的键和值"><a href="#获取数组中的键和值" class="headerlink" title="获取数组中的键和值"></a>获取数组中的键和值</h3><ul>
<li>[].keys() // 返回 key 组成的数组</li>
<li>[].values() // 返回 value 组成的数组</li>
<li>[].entries() // 返回 {key:value} 组成的数组</li>
</ul>
<p>这三个函数都返回一个 <code>iterator</code> 遍历器对象，可以使用 <code>for...of</code> 循环遍历</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> iter1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].keys();</div><div class="line"><span class="keyword">let</span> iter2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].values(); <span class="comment">//Chromium 50暂不支持</span></div><div class="line"><span class="keyword">let</span> iter3 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].entries();</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> iter1)&#123; <span class="built_in">console</span>.log(item) &#125;;<span class="comment">// 0 1 2 3</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> iter2)&#123; <span class="built_in">console</span>.log(item) &#125;;<span class="comment">// 1 2 3 4</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [index, item] <span class="keyword">of</span> iter3)&#123; <span class="built_in">console</span>.log(index, item) &#125;;</div><div class="line"><span class="comment">// 0 1</span></div><div class="line"><span class="comment">// 1 2</span></div><div class="line"><span class="comment">// 2 3</span></div><div class="line"><span class="comment">// 3 4</span></div></pre></td></tr></table></figure>
<h2 id="改变数组的方法"><a href="#改变数组的方法" class="headerlink" title="改变数组的方法"></a>改变数组的方法</h2><ul>
<li>splice</li>
<li>shift / pop</li>
<li>unshift / push</li>
<li>reverse / sort</li>
<li>copyWithin / fill</li>
</ul>
<h2 id="不改变数组的方法"><a href="#不改变数组的方法" class="headerlink" title="不改变数组的方法"></a>不改变数组的方法</h2><ul>
<li>indexOf / lastIndexOf</li>
<li>toString / join</li>
<li>concat / slice</li>
<li>some / every / filter</li>
<li>map / forEach</li>
<li>reduce / reduceRight</li>
<li>keys / values / entries</li>
<li>find / findIndex / includes</li>
</ul>
<p>返回新数组的方法 <code>concat / slice / map</code></p>
<p>返回iterator对象的方法 <code>keys / values / entries</code></p>
<h2 id="数组空位"><a href="#数组空位" class="headerlink" title="数组空位"></a>数组空位</h2><p>空位表示没有任何值，也不等于 <code>undefined</code></p>
<p><code>in</code> 运算符可以检测数组的某个key是否含有值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="number">0</span> <span class="keyword">in</span> [<span class="literal">undefined</span>,<span class="literal">undefined</span>]; <span class="comment">//返回true 0号位置有值</span></div><div class="line"><span class="number">0</span> <span class="keyword">in</span> [,,]; <span class="comment">//返回false 0号位置没有值</span></div></pre></td></tr></table></figure>
<p>数组方法对空位的处理</p>
<ul>
<li>forEach(), filter(), every() 和some()都会忽略空位。</li>
<li>map()会跳过空位，但会保留这个值</li>
<li>join()和toString()会将空位视为undefined，而undefined和null会被处理成空字符串。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// forEach方法 忽略空位</span></div><div class="line">[,<span class="string">'a'</span>].forEach(<span class="function">(<span class="params">x,i</span>) =&gt;</span> <span class="built_in">console</span>.log(i)); <span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="comment">// filter方法 忽略空位</span></div><div class="line">[<span class="string">'a'</span>,,<span class="string">'b'</span>].filter(<span class="function"><span class="params">x</span> =&gt;</span> <span class="literal">true</span>) <span class="comment">// ['a','b']</span></div><div class="line"></div><div class="line"><span class="comment">// every方法 忽略空位</span></div><div class="line">[,<span class="string">'a'</span>].every(<span class="function"><span class="params">x</span> =&gt;</span> x===<span class="string">'a'</span>) <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// some方法 忽略空位</span></div><div class="line">[,<span class="string">'a'</span>].some(<span class="function"><span class="params">x</span> =&gt;</span> x !== <span class="string">'a'</span>) <span class="comment">// false</span></div><div class="line"></div><div class="line"><span class="comment">// map方法 保留空位</span></div><div class="line">[,<span class="string">'a'</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="number">1</span>) <span class="comment">// [,1]</span></div><div class="line"></div><div class="line"><span class="comment">// join方法</span></div><div class="line">[,<span class="string">'a'</span>,<span class="literal">undefined</span>,<span class="literal">null</span>].join(<span class="string">'#'</span>) <span class="comment">// "#a##"</span></div><div class="line"></div><div class="line"><span class="comment">// toString方法</span></div><div class="line">[,<span class="string">'a'</span>,<span class="literal">undefined</span>,<span class="literal">null</span>].toString() <span class="comment">// ",a,,"</span></div></pre></td></tr></table></figure>
<h2 id="数组乱序"><a href="#数组乱序" class="headerlink" title="数组乱序"></a>数组乱序</h2><ul>
<li>sort+random</li>
<li>快速随机排序</li>
<li>随机至新数组</li>
</ul>
<h3 id="sort-random"><a href="#sort-random" class="headerlink" title="sort+random"></a>sort+random</h3><p>调用 <code>sort</code> 函数，随机返回 <code>true</code> or <code>false</code> 来决定是否交换位置</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</div><div class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> res = <span class="keyword">this</span>.slice();</div><div class="line">  <span class="keyword">return</span> res.sort( <span class="function">(<span class="params">a, b</span>)=&gt;</span><span class="built_in">Math</span>.random()<span class="number">-0.5</span> )</div><div class="line">&#125;</div><div class="line">arr.shuffle(); <span class="comment">//[1, 0, 6, 2, 4, 3, 8, 7, 9, 5]</span></div></pre></td></tr></table></figure>
<p>这种方法打乱的数组中，越往后面最大数字出现的概率越高，所以并不稳定</p>
<p>改进: 由于原数组大数在后小数在前，会出现以上结果，如果随机将首尾交换将产生较理想的结果</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</div><div class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> res = <span class="keyword">this</span>.slice(), len = res.length;</div><div class="line">  res = res.concat(res).splice(~~(<span class="built_in">Math</span>.random()*len), len);</div><div class="line">  <span class="keyword">return</span> res.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>&#125;);</div><div class="line"></div><div class="line">&#125;</div><div class="line">arr.shuffle(); <span class="comment">//[6, 0, 9, 8, 7, 2, 1, 5, 4, 3]</span></div></pre></td></tr></table></figure>
<h3 id="快速随机排序"><a href="#快速随机排序" class="headerlink" title="快速随机排序"></a>快速随机排序</h3><p>例：数组有5个元素</p>
<ul>
<li>第一次从前4个元素中随机一个元素与第5个元素交换</li>
<li>第二次从前3个元素中随机一个元素与第4个元素交换</li>
<li>第三次从前2个元素中随机一个元素与第3个元素交换</li>
<li>第四次将第1个元素中与第2个元素交换</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> res = <span class="keyword">this</span>.slice(), i = <span class="number">0</span>, len = res.length, idx, temp;</div><div class="line">  <span class="keyword">for</span>(i; i&lt;len<span class="number">-1</span>; i++)&#123;</div><div class="line">    idx = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (len - i));</div><div class="line">    temp = res[idx];</div><div class="line">    res[idx] = res[len - i <span class="number">-1</span>];</div><div class="line">    res[len - i <span class="number">-1</span>] = temp;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line">arr.shuffle();<span class="comment">//[1, 0, 3, 4, 2]</span></div></pre></td></tr></table></figure>
<p>效率高，循环次数少，稳定均匀，时间复杂度O(n-1)</p>
<h3 id="随机至新数组"><a href="#随机至新数组" class="headerlink" title="随机至新数组"></a>随机至新数组</h3><p>每次随机从原数组抽取一个元素，添加到新数组，直到原数组元素个数为0</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</div><div class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> res = <span class="keyword">this</span>.slice(), i=<span class="number">0</span>, len = res.length, idx=<span class="number">0</span>, newArr=[];</div><div class="line">  <span class="keyword">for</span>(i; i&lt;len; i++)&#123;</div><div class="line">    idx = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*(len-i));</div><div class="line">    newArr.push(res.splice(idx,<span class="number">1</span>)[<span class="number">0</span>]);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> newArr;</div><div class="line">&#125;</div><div class="line"></div><div class="line">arr.shuffle();<span class="comment">//[5, 6, 7, 8, 4, 0, 9, 3, 1, 2]</span></div></pre></td></tr></table></figure>
<p>效率比快速随机差一点，时间复杂度O(n)</p>
<iframe height="300" scrolling="no" src="//codepen.io/togglelt/embed/PGWNvx/?height=300&theme-id=13299&default-tab=result&embed-version=2" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="http://codepen.io/togglelt/pen/PGWNvx/" target="_blank" rel="external">Array_shuffle</a> by LT (<a href="http://codepen.io/togglelt" target="_blank" rel="external">@togglelt</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.<br></iframe>


<h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><ol>
<li>for+for</li>
<li>for + indexOf</li>
<li>filter + indexOf</li>
<li>sort + filter</li>
<li>splice</li>
<li>HashTable</li>
<li>from + Set (ES6)</li>
</ol>
<h3 id="for-for"><a href="#for-for" class="headerlink" title="for+for"></a>for+for</h3><p>创建一个新的数组，对原数组进行两层for循环遍历比较，新数组里如果存在，则跳出循环，进入下一个，如果没有，则将元素添加至新数组，<br>最后返回这个去重后的新数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="string">'2'</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="string">'1'</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">9</span>];</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> arr = <span class="keyword">this</span>, res = [], i=<span class="number">0</span>, j=<span class="number">0</span>, len = arr.length;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(i; i&lt;len; i++)&#123;</div><div class="line">    <span class="keyword">var</span> item = arr[i];</div><div class="line">    <span class="comment">// 如果元素在结果数组中存在，则进行下一次循环</span></div><div class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;res.length; j++)&#123;</div><div class="line">      <span class="keyword">if</span>(res[j] === item) <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 两个数组比较完成后，没有重复，则将元素添加到结果数组中</span></div><div class="line">    j === res.length &amp;&amp; res.push(item);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// 返回去重后的新数组</span></div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 另外一种实现</span></div><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> arr = <span class="keyword">this</span>, res = [], i=<span class="number">0</span>, j, len = arr.length;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(i; i&lt;len; i++)&#123;</div><div class="line">    <span class="keyword">for</span>(j=i+<span class="number">1</span>; j&lt;len; j++)&#123;</div><div class="line">      <span class="comment">// 如果有重复的，i+1,进入下一次循环</span></div><div class="line">      <span class="comment">// 如果没有重复的，i，不变</span></div><div class="line">      <span class="comment">// 这样内层的for循环就会返回不重复的元素的索引和重复元素出现的最后一次的索引</span></div><div class="line">      <span class="comment">// 这里比较绕，设计很精妙</span></div><div class="line">      <span class="keyword">if</span>(arr[i] === arr[j])&#123;</div><div class="line">        j = ++i;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    log(i);</div><div class="line">    res.push(arr[i]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line">arr1.distinct();</div></pre></td></tr></table></figure>
<h3 id="for-indexOf"><a href="#for-indexOf" class="headerlink" title="for+indexOf"></a>for+indexOf</h3><p>与上面的原理相同，如果结果数组中不存在，则添加，否则继续循环下一次，时间复杂度O(n)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="string">'2'</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="string">'1'</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">9</span>];</div><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> arr = <span class="keyword">this</span>, res = [], i=<span class="number">0</span>, len = arr.length;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(i; i&lt;len; i++)&#123;</div><div class="line">    <span class="keyword">var</span> item = arr[i];</div><div class="line">    (res.indexOf(item) === <span class="number">-1</span>)  &amp;&amp; res.push(item);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="filter-indexOf"><a href="#filter-indexOf" class="headerlink" title="filter+indexOf"></a>filter+indexOf</h3><p>使用filter替代上面的for循环</p>
<p>因为indexOf是返回元素中数组中第一次出现的索引，所以后面重复的元素返回的索引是第一次出现的索引，而不等于当前的索引，所以不会被返回</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.filter(<span class="function"><span class="keyword">function</span>(<span class="params">v, i, arr</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> arr.indexOf(v) === i;</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="splice去重"><a href="#splice去重" class="headerlink" title="splice去重"></a>splice去重</h3><p>双层for循环对比加splice实现，发现重复的值，则删除掉，再将length减1，</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> arr = <span class="keyword">this</span>.slice(), i=<span class="number">0</span>, j, len=arr.length;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(i; i&lt;len; i++)&#123;</div><div class="line">  <span class="keyword">for</span>(j=i+<span class="number">1</span>; j&lt;len; j++)&#123;</div><div class="line">    <span class="keyword">if</span>(arr[i] === arr[j])&#123;</div><div class="line">      arr.splice(j, <span class="number">1</span>);</div><div class="line">      len--;</div><div class="line">      j--;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> arr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>速度慢，占用内存高</p>
<h3 id="sort-filter"><a href="#sort-filter" class="headerlink" title="sort+filter"></a>sort+filter</h3><p>先利用sort排序(重复的值会被排到一起)，第一个直接返回，从第二个元素开始，相邻两个元素比较，如果不相等，则返回后面这个元素</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.concat().sort().filter(<span class="function"><span class="keyword">function</span>(<span class="params">v, i, arr</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> !i || v !== arr[i<span class="number">-1</span>];</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Hash去重"><a href="#Hash去重" class="headerlink" title="Hash去重"></a>Hash去重</h3><ul>
<li>将数组的元素做为Hash对象的键，如果Hash中不存在，则将元素添加到结果数组中，存在，则继续下一次循环</li>
<li>由于1和’1’在hash对象中的key是会被转换成字符串的，所以 1 和 ‘1’ 会被认为是同一个，这里使用 <code>key = typeof(item) + item</code> 来做为key值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> arr=<span class="keyword">this</span>, hash = &#123;&#125;, i=<span class="number">0</span>, res=[], len = arr.length, key;</div><div class="line"></div><div class="line">  <span class="keyword">for</span>(i; i&lt;len; i++)&#123;</div><div class="line">    key = <span class="keyword">typeof</span>(arr[i])+arr[i];</div><div class="line">    <span class="keyword">if</span>(hash[key]!==<span class="literal">true</span>)&#123;</div><div class="line">      res.push(arr[i]);</div><div class="line">      hash[key] = <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Hash去重的改进</p>
<ul>
<li>当数组元素为Object复杂对象时，上面的方式就不适用了，如<code>{a:1} === {a:1} //false</code></li>
<li>将数组中的项序列化为字符串，做为Object的key，因为Oject的key值是字符串，1和‘1’会被认为是同一个键</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> o = &#123;&#125;;</div><div class="line">o[<span class="number">1</span>]=<span class="literal">true</span>; o[<span class="string">'1'</span>]=<span class="literal">true</span>;</div><div class="line"><span class="built_in">console</span>.log(o) <span class="comment">// &#123;'1':true&#125;</span></div><div class="line"><span class="comment">// 使用JOSN.stringify()，字符串类型会被转义，那么相同的值，不同的类型，将可以保持唯一</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> o = &#123;&#125;;</div><div class="line">o[<span class="built_in">JSON</span>.stringify(<span class="number">1</span>)] = <span class="literal">true</span>;</div><div class="line">o[<span class="built_in">JSON</span>.stringify(<span class="string">'1'</span>)] = <span class="literal">true</span>;</div><div class="line">o <span class="comment">// &#123;'1':true, '\'1\'':true&#125;</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> arr2 = [ &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;, [ <span class="number">1</span>, <span class="number">2</span> ], [ <span class="number">1</span>, <span class="number">2</span> ], <span class="number">1</span>, <span class="number">1</span>, <span class="string">'1'</span>, <span class="string">'1'</span> ]</div><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> hashTable = &#123;&#125;;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.filter(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> key = <span class="built_in">JSON</span>.stringify(v);</div><div class="line">    <span class="keyword">var</span> match = <span class="built_in">Boolean</span>(hashTable[key]);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (match ? <span class="literal">false</span> : hashTable[key] = <span class="literal">true</span>);</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ES6-的去重方法"><a href="#ES6-的去重方法" class="headerlink" title="ES6 的去重方法"></a>ES6 的去重方法</h3><p><code>Array.from()</code> 将一个类数组转为数组，Set数据结构存储的元素是唯一的</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.distinct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(<span class="keyword">this</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>总结</strong><br>上面几种去重方式，filter+indexOf相当较快，但不能去除复杂对象如{a:1}和{a:1}, hash去重最准确，但速度稍慢，for+splice效率最差，ES6的from+Set仍然不能对复杂对象去重</p>
<iframe height="300" scrolling="no" src="//codepen.io/togglelt/embed/PGWxgo/?height=300&theme-id=13299&default-tab=result&embed-version=2" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="http://codepen.io/togglelt/pen/PGWxgo/" target="_blank" rel="external">Array_Distinct</a> by LT (<a href="http://codepen.io/togglelt" target="_blank" rel="external">@togglelt</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.<br></iframe>

<h2 id="数组排序（跳转）"><a href="#数组排序（跳转）" class="headerlink" title="数组排序（跳转）"></a>数组排序（跳转）</h2><p>数组排序方法众多，可以有很多种算法，这里请参考 <a href="http://www.cnblogs.com/kkun/archive/2011/11/23/2260312.html" target="_blank" rel="external">经典排序算法_集锦</a></p>
<h2 id="reduce高级用法"><a href="#reduce高级用法" class="headerlink" title="reduce高级用法"></a>reduce高级用法</h2><p><code>reduce()</code> 方法接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始合并，最终为一个值。</p>
<p>reduce() 函数接收2个参数(M: 必填, O: 可选)：</p>
<ul>
<li>(M) 回调reducer 函数 处理先前的结算结果和下一个元素直到序列结束。</li>
<li>(O) 初值 作为第一次调用回调时的第一个参数。</li>
</ul>
<p><code>rr.reduce(function(prev, cur, index, arr) {});</code></p>
<ul>
<li>prev: 第一项的值或者上一次叠加的结果值</li>
<li>cur: 当前会参与叠加的项</li>
<li>index： 当前值的索引</li>
<li>arr: 数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 当前的购物清单</span></div><div class="line"><span class="keyword">var</span> items = [&#123;<span class="attr">price</span>: <span class="number">10</span>&#125;, &#123;<span class="attr">price</span>: <span class="number">120</span>&#125;, &#123;<span class="attr">price</span>: <span class="number">1000</span>&#125;];</div><div class="line"></div><div class="line"><span class="comment">// 1. 计算总价</span></div><div class="line"><span class="keyword">var</span> sum = items.reduce(<span class="function">(<span class="params">prev, curr, i, arr</span>) =&gt;</span>prev+curr.price,<span class="number">0</span>);</div><div class="line">log(sum);<span class="comment">//1130</span></div><div class="line"></div><div class="line"><span class="comment">// 2. 减去折扣(优惠20块)</span></div><div class="line"><span class="keyword">var</span> sum = items.reduce(<span class="function">(<span class="params">prev, curr, i, arr</span>) =&gt;</span>prev+curr.price,<span class="number">-20</span>);</div><div class="line">log(sum);<span class="comment">//1110</span></div><div class="line"></div><div class="line"><span class="comment">// 多个reducer合并为一个reducer</span></div><div class="line"><span class="keyword">var</span> reducers = &#123;</div><div class="line">  <span class="attr">totalInDollar</span>: <span class="function"><span class="keyword">function</span>(<span class="params">state, item</span>)</span>&#123;</div><div class="line">    state.dollar += item.price;</div><div class="line">    <span class="keyword">return</span> state;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">totalInEuros</span>: <span class="function"><span class="keyword">function</span>(<span class="params">state, item</span>)</span>&#123;</div><div class="line">    state.euros += item.price * <span class="number">0.897424</span>;</div><div class="line">    <span class="keyword">return</span> state;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">totalInPounds</span>: <span class="function"><span class="keyword">function</span>(<span class="params">state, item</span>)</span>&#123;</div><div class="line">    state.dollar += item.price * <span class="number">0.6923412</span>;</div><div class="line">    <span class="keyword">return</span> state;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">totalInYen</span>: <span class="function"><span class="keyword">function</span>(<span class="params">state, item</span>)</span>&#123;</div><div class="line">    state.dollar += item.price * <span class="number">112.853</span>;</div><div class="line">    <span class="keyword">return</span> state;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> combineTotalPriceReducers = <span class="function"><span class="keyword">function</span>(<span class="params">reducers</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">state, item</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.keys(reducers).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">nextState, key</span>)</span>&#123;</div><div class="line">      reducers[key](state, item);</div><div class="line">      <span class="keyword">return</span> state;</div><div class="line">    &#125;, &#123;&#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> bigTotalPriceReducer = combineTotalPriceReducers(reducers);</div><div class="line"><span class="keyword">var</span> initialState = &#123;<span class="attr">dollars</span>:<span class="number">0</span>, <span class="attr">euros</span>:<span class="number">0</span>, <span class="attr">yens</span>:<span class="number">0</span>, <span class="attr">pounds</span>:<span class="number">0</span>&#125;;</div><div class="line"><span class="keyword">var</span> totals = items.reduce(bigTotalPriceReducer, initialState);</div></pre></td></tr></table></figure>
<p>计算字母在字符串中出现的次数</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> result = <span class="string">'abcawab'</span>.split(<span class="string">''</span>).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">res, cur</span>)</span>&#123;</div><div class="line">  res[cur] ? res[cur]++ : (res[cur] = <span class="number">1</span>);</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;,&#123;&#125;);</div><div class="line">log(result);<span class="comment">//&#123;a: 3, b: 2, c: 1, w: 1&#125;</span></div></pre></td></tr></table></figure>
<h2 id="元素添加"><a href="#元素添加" class="headerlink" title="元素添加"></a>元素添加</h2><ul>
<li>尾部添加 效率： arr[arr.length] &gt; push &gt; concat</li>
<li>头部添加 效率：[1].concat(arr) &gt; arr.unshift(1) （safari相反）</li>
<li>中间添加 arr.splice(arr.length/2, 0, 1)</li>
</ul>
<h2 id="多维数组扁平化"><a href="#多维数组扁平化" class="headerlink" title="多维数组扁平化"></a>多维数组扁平化</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arrs = [[<span class="number">1</span>, <span class="number">2</span>],[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]];</div><div class="line"></div><div class="line"><span class="keyword">var</span> res = [];</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrs.length; ++i) &#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arrs[i].length; ++j)</div><div class="line">    res.push(arr[i][j]);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(res);</div><div class="line"></div><div class="line">[].concat.apply([], arrs);</div><div class="line"></div><div class="line">arrs.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,curr</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> prev.concat(curr);</div><div class="line">&#125;)</div><div class="line"></div><div class="line">[].concat(...arrs);</div></pre></td></tr></table></figure>
<h2 id="清空数组"><a href="#清空数组" class="headerlink" title="清空数组"></a>清空数组</h2><p><code>var a =[1,3]; a.length=0 与 a = []</code> 两种清空数组的区别:</p>
<ul>
<li><code>list=[]</code> 将一个新的引用数组赋值给变量，其它的引用不受影响，以前的数组内容如果被引用的话，将存储在内存，会导致内存泄漏</li>
<li><code>list.length</code> 删除数组里的内容，将影响到其它引用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">var</span> bar = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">var</span> foo2 = foo;</div><div class="line"><span class="keyword">var</span> bar2 = bar;</div><div class="line">foo = [];</div><div class="line">bar.length = <span class="number">0</span>;</div><div class="line"><span class="built_in">console</span>.log(foo, bar, foo2, bar2);</div><div class="line"></div><div class="line">[] [] [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] []</div></pre></td></tr></table></figure>
<h2 id="求平均值、最大值、最小值"><a href="#求平均值、最大值、最小值" class="headerlink" title="求平均值、最大值、最小值"></a>求平均值、最大值、最小值</h2><p><code>Math</code> 的 <code>max</code> 方法和 <code>min</code> 方法接收多个参数，分别返回参数中的最大值和最小值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Math</span>.max(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line"><span class="built_in">Math</span>.min(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line"></div><div class="line"><span class="comment">// 如果参数是一个数组[1,2,3,4]，那么应该调用apply方法</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr);</div><div class="line"><span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, arr);</div><div class="line"></div><div class="line"><span class="comment">// ES6中使用延展符展开数组</span></div><div class="line"><span class="built_in">Math</span>.max(...arr);</div><div class="line"><span class="built_in">Math</span>.min(...arr);</div><div class="line"></div><div class="line"><span class="comment">// 最大值</span></div><div class="line"><span class="keyword">var</span> max = arr[<span class="number">0</span>];</div><div class="line">arr.forEach(<span class="function"><span class="params">v</span>=&gt;</span>&#123; max = v &gt; max ? v : max; &#125;)</div><div class="line"></div><div class="line"><span class="comment">// 平均值</span></div><div class="line"><span class="keyword">let</span> nums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">33</span>,<span class="number">12</span>,<span class="number">45</span>];</div><div class="line"><span class="keyword">let</span> sum = nums.reduce(<span class="function">(<span class="params">prev,curr</span>)=&gt;</span>prev+=curr);</div><div class="line"><span class="keyword">let</span> avg = sum / nums.length;</div></pre></td></tr></table></figure>
<p>扩展阅读</p>
<ul>
<li><a href="https://www.h5jun.com/post/array-shuffle.html" target="_blank" rel="external">数组的完全随机排列</a></li>
<li><a href="https://bost.ocks.org/mike/shuffle/" target="_blank" rel="external">Fisher–Yates Shuffle</a></li>
<li><a href="http://coolshell.cn/articles/8593.html" target="_blank" rel="external">如何测试洗牌程序</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/13/JS-extends/" rel="next" title="也来谈谈继承">
                <i class="fa fa-chevron-left"></i> 也来谈谈继承
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/11/02/ES6-useful/" rel="prev" title="ES6笔记 - 常用特性">
                ES6笔记 - 常用特性 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/09/23/JS-Array/"
     data-title="数组的全面总结"
     data-content=""
     data-url="http://toggle.coding.io/2016/09/23/JS-Array/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/09/23/JS-Array/"
           data-title="数组的全面总结" data-url="http://toggle.coding.io/2016/09/23/JS-Array/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar100.jpg"
               alt="Aitter" />
          <p class="site-author-name" itemprop="name">Aitter</p>
          <p class="site-description motion-element" itemprop="description">javascript | HTML5 | CSS3 | Node | React</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">58</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">20</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/git-lt" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/lt-lt-98" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://hexo.io/" title="Hexo" target="_blank">Hexo</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#定义"><span class="nav-number">1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内置方法"><span class="nav-number">2.</span> <span class="nav-text">内置方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#从已有的数组创建新的数组"><span class="nav-number">2.1.</span> <span class="nav-text">从已有的数组创建新的数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组排序"><span class="nav-number">2.2.</span> <span class="nav-text">数组排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为数组增减元素"><span class="nav-number">2.3.</span> <span class="nav-text">为数组增减元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组转字符串"><span class="nav-number">2.4.</span> <span class="nav-text">数组转字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ES5新增"><span class="nav-number">3.</span> <span class="nav-text">ES5新增</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数组类型判断"><span class="nav-number">3.1.</span> <span class="nav-text">数组类型判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查找元素"><span class="nav-number">3.2.</span> <span class="nav-text">查找元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据遍历"><span class="nav-number">3.3.</span> <span class="nav-text">数据遍历</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检测是否包含某元素"><span class="nav-number">3.4.</span> <span class="nav-text">检测是否包含某元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组过滤"><span class="nav-number">3.5.</span> <span class="nav-text">数组过滤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组聚合"><span class="nav-number">3.6.</span> <span class="nav-text">数组聚合</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ES6新增"><span class="nav-number">4.</span> <span class="nav-text">ES6新增</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数组转换"><span class="nav-number">4.1.</span> <span class="nav-text">数组转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组元素复制、填充与查找"><span class="nav-number">4.2.</span> <span class="nav-text">数组元素复制、填充与查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取数组中的键和值"><span class="nav-number">4.3.</span> <span class="nav-text">获取数组中的键和值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#改变数组的方法"><span class="nav-number">5.</span> <span class="nav-text">改变数组的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#不改变数组的方法"><span class="nav-number">6.</span> <span class="nav-text">不改变数组的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组空位"><span class="nav-number">7.</span> <span class="nav-text">数组空位</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组乱序"><span class="nav-number">8.</span> <span class="nav-text">数组乱序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sort-random"><span class="nav-number">8.1.</span> <span class="nav-text">sort+random</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#快速随机排序"><span class="nav-number">8.2.</span> <span class="nav-text">快速随机排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#随机至新数组"><span class="nav-number">8.3.</span> <span class="nav-text">随机至新数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组去重"><span class="nav-number">9.</span> <span class="nav-text">数组去重</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#for-for"><span class="nav-number">9.1.</span> <span class="nav-text">for+for</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-indexOf"><span class="nav-number">9.2.</span> <span class="nav-text">for+indexOf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#filter-indexOf"><span class="nav-number">9.3.</span> <span class="nav-text">filter+indexOf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#splice去重"><span class="nav-number">9.4.</span> <span class="nav-text">splice去重</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sort-filter"><span class="nav-number">9.5.</span> <span class="nav-text">sort+filter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hash去重"><span class="nav-number">9.6.</span> <span class="nav-text">Hash去重</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6-的去重方法"><span class="nav-number">9.7.</span> <span class="nav-text">ES6 的去重方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组排序（跳转）"><span class="nav-number">10.</span> <span class="nav-text">数组排序（跳转）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduce高级用法"><span class="nav-number">11.</span> <span class="nav-text">reduce高级用法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#元素添加"><span class="nav-number">12.</span> <span class="nav-text">元素添加</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多维数组扁平化"><span class="nav-number">13.</span> <span class="nav-text">多维数组扁平化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#清空数组"><span class="nav-number">14.</span> <span class="nav-text">清空数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#求平均值、最大值、最小值"><span class="nav-number">15.</span> <span class="nav-text">求平均值、最大值、最小值</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Aitter</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"togglelt"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
